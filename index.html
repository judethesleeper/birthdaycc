<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Brother!</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Dancing+Script:wght@600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        navy: {
                            800: '#0a192f',
                            900: '#020c1b',
                        },
                        silver: {
                            100: '#eef2f6',
                            300: '#cbd5e1',
                            500: '#94a3b8',
                        },
                        royal: '#1e3a8a'
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                        script: ['Dancing Script', 'cursive'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        glow: {
                            'from': { textShadow: '0 0 10px #fff, 0 0 20px #1e3a8a' },
                            'to': { textShadow: '0 0 20px #fff, 0 0 30px #2563eb' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Styles for Scrollbar & Transitions */
        body {
            background-color: #020c1b;
            color: #cbd5e1;
            overflow-x: hidden;
        }

        .page-section {
            display: none;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            min-height: 100vh;
            width: 100%;
        }

        .page-section.active {
            display: flex;
            opacity: 1;
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Cake Animation */
        .cake-container {
            position: relative;
            width: 250px;
            height: 200px;
            margin: 0 auto;
        }
        .plate {
            width: 270px;
            height: 110px;
            position: absolute;
            bottom: -10px;
            left: -10px;
            background-color: #ccc;
            border-radius: 50%;
            box-shadow: 0 2px 0 #b3b3b3, 0 4px 0 #b3b3b3, 0 5px 40px rgba(0,0,0,0.5);
        }
        .layer {
            position: absolute;
            display: block;
            width: 250px;
            height: 100px;
            border-radius: 50%;
            background-color: #1e3a8a; /* Dark Blue Cake */
            box-shadow: 0 2px 0px #172554, 0 4px 0px #172554, 0 6px 0px #172554, 0 8px 0px #172554, 0 10px 0px #172554, 0 12px 0px #172554, 0 14px 0px #172554, 0 16px 0px #172554, 0 18px 0px #172554, 0 20px 0px #172554, 0 22px 0px #172554, 0 24px 0px #172554, 0 26px 0px #172554, 0 28px 0px #172554, 0 30px 0px #172554;
        }
        .layer-top { top: 0px; }
        .layer-middle { top: 33px; opacity: 0.9; }
        .layer-bottom { top: 66px; opacity: 0.8; }
        
        .icing {
            top: 2px;
            left: 5px;
            background-color: #f0f9ff;
            width: 240px;
            height: 90px;
            border-radius: 50%;
            position: absolute;
            z-index: 1;
        }
        
        .candle {
            background-color: #ffffff;
            width: 16px;
            height: 50px;
            border-radius: 8px 8px 4px 4px;
            top: -20px;
            left: 50%;
            margin-left: -8px;
            position: absolute;
            z-index: 10;
            box-shadow: inset 0 -10px 0 #e2e8f0;
        }
        
        .flame {
            position: absolute;
            background-color: orange;
            width: 15px;
            height: 35px;
            border-radius: 10px 10px 10px 10px / 25px 25px 10px 10px;
            top: -34px;
            left: 50%;
            margin-left: -7.5px;
            z-index: 10;
            box-shadow: 0 0 10px orange, 0 0 20px orange, 0 0 60px orange, 0 0 80px orange;
            transform-origin: 50% 90%;
            animation: flicker 1s ease-in-out alternate infinite;
        }

        @keyframes flicker {
            0% { transform: skewX(5deg); box-shadow: 0 0 10px orange, 0 0 20px orange; }
            25% { transform: skewX(-5deg); box-shadow: 0 0 10px orange, 0 0 20px orange; }
            50% { transform: skewX(10deg); box-shadow: 0 0 10px orange; }
            75% { transform: skewX(-5deg); box-shadow: 0 0 10px orange; }
            100% { transform: skewX(5deg); box-shadow: 0 0 10px orange, 0 0 20px orange; }
        }

        /* Typewriter Cursor */
        .cursor {
            display: inline-block;
            width: 2px;
            background-color: #cbd5e1;
            animation: blink 1s infinite;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* Lightbox */
        #lightbox {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="antialiased selection:bg-blue-500 selection:text-white">

    <!-- 1️⃣ COUNTDOWN PAGE -->
    <section id="countdown-page" class="page-section active flex-col items-center justify-center text-center p-4 bg-gradient-to-br from-navy-900 via-navy-800 to-black relative overflow-hidden">
        <!-- Decorative Background Elements -->
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0">
            <div class="absolute top-10 left-10 w-20 h-20 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse-slow"></div>
            <div class="absolute bottom-10 right-10 w-32 h-32 bg-silver-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse-slow"></div>
        </div>

        <div class="z-10 relative">
            <h2 class="text-silver-300 tracking-widest text-lg md:text-xl mb-4 uppercase font-light">Counting Down To The Big Day</h2>
            <h1 class="text-4xl md:text-6xl font-bold text-white mb-12 animate-float font-serif">Birthday Countdown!</h1>

            <!-- Countdown Timer -->
            <div class="grid grid-cols-4 gap-4 md:gap-8 max-w-3xl mx-auto">
                <div class="glass p-4 rounded-xl flex flex-col items-center justify-center transform hover:scale-105 transition duration-300 border-t-2 border-blue-500">
                    <span id="days" class="text-3xl md:text-6xl font-bold text-white">00</span>
                    <span class="text-xs md:text-sm text-silver-500 uppercase mt-2">Days</span>
                </div>
                <div class="glass p-4 rounded-xl flex flex-col items-center justify-center transform hover:scale-105 transition duration-300 border-t-2 border-blue-500">
                    <span id="hours" class="text-3xl md:text-6xl font-bold text-white">00</span>
                    <span class="text-xs md:text-sm text-silver-500 uppercase mt-2">Hours</span>
                </div>
                <div class="glass p-4 rounded-xl flex flex-col items-center justify-center transform hover:scale-105 transition duration-300 border-t-2 border-blue-500">
                    <span id="minutes" class="text-3xl md:text-6xl font-bold text-white">00</span>
                    <span class="text-xs md:text-sm text-silver-500 uppercase mt-2">Minutes</span>
                </div>
                <div class="glass p-4 rounded-xl flex flex-col items-center justify-center transform hover:scale-105 transition duration-300 border-t-2 border-blue-500">
                    <span id="seconds" class="text-3xl md:text-6xl font-bold text-blue-400">00</span>
                    <span class="text-xs md:text-sm text-silver-500 uppercase mt-2">Seconds</span>
                </div>
            </div>

            <p class="mt-12 text-silver-500 italic text-sm">January 23rd • Myanmar Time</p>
        </div>
    </section>

    <!-- 2️⃣ CELEBRATION PAGE -->
    <section id="celebration-page" class="page-section flex-col items-center justify-center text-center p-4 bg-gradient-to-b from-navy-900 to-royal relative overflow-hidden">
        
        <div class="z-10 flex flex-col items-center">
            <!-- Animated Cake -->
            <div class="cake-container mb-12 transform scale-75 md:scale-100">
                <div class="plate"></div>
                <div class="layer layer-bottom"></div>
                <div class="layer layer-middle"></div>
                <div class="layer layer-top"></div>
                <div class="icing"></div>
                <div class="candle">
                    <div class="flame"></div>
                </div>
            </div>

            <h1 class="text-5xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-white via-silver-300 to-blue-200 mb-6 font-script animate-glow">
                Happy Birthday!
            </h1>
            <p class="text-silver-100 text-lg md:text-xl mb-10 max-w-lg leading-relaxed">
                Wishing the best brother in the world a fantastic day filled with joy and success!
            </p>

            <div class="flex flex-col md:flex-row gap-6 w-full max-w-md">
                <button onclick="showPage('gallery-page')" class="flex-1 group relative px-8 py-4 bg-transparent border border-white text-white font-bold rounded-full overflow-hidden transition-all hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]">
                    <span class="absolute top-0 left-0 w-full h-full bg-white opacity-0 group-hover:opacity-10 transition-opacity"></span>
                    <i class="fas fa-camera-retro mr-2"></i> Photo Gallery
                </button>
                <button onclick="showPage('letter-page')" class="flex-1 group relative px-8 py-4 bg-blue-600 border border-blue-600 text-white font-bold rounded-full overflow-hidden transition-all hover:bg-blue-700 hover:shadow-[0_0_20px_rgba(37,99,235,0.5)]">
                    <i class="fas fa-envelope-open-text mr-2"></i> Secret Letter
                </button>
            </div>
        </div>
    </section>

    <!-- 3️⃣ PHOTO GALLERY PAGE -->
    <section id="gallery-page" class="page-section flex-col p-4 md:p-10 bg-navy-900">
        <div class="w-full max-w-6xl mx-auto">
            <div class="flex justify-between items-center mb-8">
                <button onclick="showPage('celebration-page')" class="text-silver-300 hover:text-white transition flex items-center gap-2">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <h2 class="text-2xl font-bold text-white font-serif">Memories</h2>
            </div>

            <!-- Masonry Grid -->
            <div class="columns-1 md:columns-2 lg:columns-3 gap-4 space-y-4">
                <!-- User Photos: Linked to the PNG files as requested -->
                
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl cursor-pointer" onclick="openLightbox(this)">
                    <img src="image.png" onerror="this.src='https://images.unsplash.com/photo-1544211075-84cb263155f4?q=80&w=1000'" alt="Brother Memory 1" class="w-full h-auto transform transition duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                        <i class="fas fa-expand text-white text-2xl"></i>
                    </div>
                </div>

                <div class="break-inside-avoid relative group overflow-hidden rounded-xl cursor-pointer" onclick="openLightbox(this)">
                    <img src="image_1.png" onerror="this.src='https://images.unsplash.com/photo-1511632765486-a01980e01a18?q=80&w=1000'" alt="Brother Memory 2" class="w-full h-auto transform transition duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                        <i class="fas fa-expand text-white text-2xl"></i>
                    </div>
                </div>

                 <div class="break-inside-avoid relative group overflow-hidden rounded-xl cursor-pointer" onclick="openLightbox(this)">
                    <img src="image copy.png" onerror="this.src='https://images.unsplash.com/photo-1488161628813-99425260bddc?q=80&w=1000'" alt="Brother Memory 3" class="w-full h-auto transform transition duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                        <i class="fas fa-expand text-white text-2xl"></i>
                    </div>
                </div>

                <div class="break-inside-avoid relative group overflow-hidden rounded-xl cursor-pointer" onclick="openLightbox(this)">
                    <img src="image copy 2.png" onerror="this.src='https://images.unsplash.com/photo-1504196606672-aef5c9cefcce?q=80&w=1000'" alt="Brother Memory 4" class="w-full h-auto transform transition duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                        <i class="fas fa-expand text-white text-2xl"></i>
                    </div>
                </div>

                <div class="break-inside-avoid relative group overflow-hidden rounded-xl cursor-pointer" onclick="openLightbox(this)">
                    <img src="image copy 3.png" onerror="this.src='https://images.unsplash.com/photo-1530103862676-de3c9a59af57?q=80&w=1000'" alt="Brother Memory 5" class="w-full h-auto transform transition duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                        <i class="fas fa-expand text-white text-2xl"></i>
                    </div>
                </div>

                <div class="break-inside-avoid relative group overflow-hidden rounded-xl cursor-pointer" onclick="openLightbox(this)">
                    <img src="image copy 4.png" onerror="this.src='https://images.unsplash.com/photo-1519834785169-98be25ec3f84?q=80&w=1000'" alt="Brother Memory 6" class="w-full h-auto transform transition duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                        <i class="fas fa-expand text-white text-2xl"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 z-50 bg-black/90 hidden flex items-center justify-center p-4" onclick="closeLightbox()">
        <button class="absolute top-4 right-4 text-white text-4xl">&times;</button>
        <img id="lightbox-img" src="" class="max-w-full max-h-[90vh] rounded shadow-2xl">
    </div>

    <!-- 4️⃣ SECRET LETTER PAGE -->
    <section id="letter-page" class="page-section flex-col items-center justify-center p-4 bg-navy-900">
        <div class="absolute top-4 left-4">
            <button onclick="showPage('celebration-page')" class="text-silver-300 hover:text-white transition flex items-center gap-2">
                <i class="fas fa-arrow-left"></i> Back
            </button>
        </div>

        <div class="w-full max-w-2xl bg-[#fdfbf7] text-navy-900 p-8 md:p-12 rounded-lg shadow-2xl transform rotate-1 transition-transform hover:rotate-0">
            <h2 class="text-3xl font-serif font-bold text-center mb-6 text-navy-800 border-b-2 border-gray-200 pb-4">To My Brother</h2>
            
            <div id="typewriter-container" class="font-sans text-lg leading-relaxed text-gray-700 min-h-[300px]">
                <!-- Text will be injected here via JS -->
            </div>
            
            <div class="mt-8 text-right font-script text-2xl text-blue-800">
                - With Love
            </div>
        </div>
    </section>

    <!-- Audio (Optional) -->
    <!-- <audio id="bg-music" loop>
        <source src="birthday_song.mp3" type="audio/mpeg">
    </audio> -->

    <script>
        // --- CONFIGURATION ---
        // Set the birthday date here (Year, Month (0-11), Day, Hour)
        // Myanmar Time is UTC+6:30. 
        // We will create a target date object dynamically.
        const currentYear = new Date().getFullYear();
        // Month is 0-indexed (0 = Jan, 1 = Feb). 22nd index is 23rd day if starting from 1? No, 0 is 1st.
        // So Jan 23 is Month: 0, Day: 23.
        const targetMonth = 0; 
        const targetDay = 23;

        // --- NAVIGATION LOGIC ---
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(page => {
                page.classList.remove('active');
                setTimeout(() => {
                    if(!page.classList.contains('active')) page.style.display = 'none';
                }, 1000); // Match transition duration
            });

            // Show selected page
            const selectedPage = document.getElementById(pageId);
            selectedPage.style.display = 'flex';
            // Small delay to allow display:flex to apply before opacity transition
            setTimeout(() => {
                selectedPage.classList.add('active');
            }, 50);

            // Special triggers
            if (pageId === 'celebration-page') {
                startConfetti();
            }
            if (pageId === 'letter-page') {
                startTypewriter();
            }
        }

        // --- COUNTDOWN LOGIC ---
        function updateCountdown() {
            const now = new Date();
            let targetDate = new Date(currentYear, targetMonth, targetDay, 0, 0, 0); // Local time initially
            
            // Adjust to Myanmar Time (UTC+6:30)
            // Strategy: Convert target to UTC, then subtract 6.5 hours to align? 
            // Easier: Get target in UTC.
            // A fixed string works best for specific timezones if browser support is good, 
            // but manual calculation is safer.
            
            // Let's assume the user wants Jan 23 00:00 Myanmar Time.
            // Myanmar is UTC + 6.5
            // So Jan 23 00:00 MM = Jan 22 17:30 UTC.
            
            let birthdayDate = new Date(Date.UTC(currentYear, targetMonth, targetDay, -6, 30, 0)); // 00:00 - 6.5h = 17:30 prev day
            
            // If birthday passed this year, look at next year
            if (now.getTime() > birthdayDate.getTime() + (24 * 60 * 60 * 1000)) { 
                // Only reset if fully passed (1 day buffer). 
                // But for a birthday site, if it's "today", show celebration.
                // If it's passed, maybe next year? Let's stick to current year target.
                // If now > birthdayDate, we assume it's celebration time.
            }

            const diff = birthdayDate - now;

            if (diff <= 0) {
                // Time is up!
                clearInterval(countdownInterval);
                document.getElementById('countdown-page').classList.remove('active');
                showPage('celebration-page');
                return;
            }

            const d = Math.floor(diff / 1000 / 60 / 60 / 24);
            const h = Math.floor(diff / 1000 / 60 / 60) % 24;
            const m = Math.floor(diff / 1000 / 60) % 60;
            const s = Math.floor(diff / 1000) % 60;

            document.getElementById('days').innerText = d < 10 ? '0' + d : d;
            document.getElementById('hours').innerText = h < 10 ? '0' + h : h;
            document.getElementById('minutes').innerText = m < 10 ? '0' + m : m;
            document.getElementById('seconds').innerText = s < 10 ? '0' + s : s;
        }

        const countdownInterval = setInterval(updateCountdown, 1000);
        updateCountdown(); // Start immediately

        // --- PREVIEW MODE DISABLED (Standard Timer Active) ---
        // The code below is removed to allow the countdown to function.
        // showPage('celebration-page'); clearInterval(countdownInterval);

        // --- CONFETTI LOGIC ---
        function startConfetti() {
            var duration = 3000;
            var end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#1e3a8a', '#ffffff', '#cbd5e1'] // Navy, White, Silver
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#1e3a8a', '#ffffff', '#cbd5e1']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
        }

        // --- TYPEWRITER LOGIC ---
        const letterText = "Happy Birthday, Brother!\n\nI just wanted to take a moment to tell you how much you mean to me. Watching you grow and achieve your goals makes me incredibly proud.\n\nThank you for being my partner in crime, my protector, and my friend. I hope this year brings you everything you've ever wished for—success, happiness, and lots of cake!\n\nHave the best day ever!";
        let i = 0;
        let isTyping = false;

        function startTypewriter() {
            const container = document.getElementById('typewriter-container');
            if (isTyping || container.innerText.length > 5) return; // Don't restart if done
            
            container.innerHTML = '<span class="cursor"></span>';
            isTyping = true;
            typeWriter();
        }

        function typeWriter() {
            if (i < letterText.length) {
                const char = letterText.charAt(i);
                const container = document.getElementById('typewriter-container');
                // Remove cursor
                container.innerHTML = container.innerHTML.replace('<span class="cursor"></span>', '');
                
                // Add char and cursor
                if (char === '\n') {
                    container.innerHTML += '<br/>';
                } else {
                    container.innerHTML += char;
                }
                container.innerHTML += '<span class="cursor"></span>';
                
                i++;
                setTimeout(typeWriter, 50); // Typing speed
            } else {
                isTyping = false;
            }
        }

        // --- LIGHTBOX LOGIC ---
        function openLightbox(element) {
            const imgSrc = element.querySelector('img').src;
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            
            lightboxImg.src = imgSrc;
            lightbox.classList.remove('hidden');
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.add('hidden');
        }
    </script>
</body>
</html>